
    DataGuanajuatoStates = [
            {id:"11001", COUNTYID:"001", COUNTY:"Abasolo",                                           STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "89.31" ,    AbsorcionMS: "71.59",       AbsorcionSuperior:  "55.62347188"                   },
            {id:"11002", COUNTYID:"002", COUNTY:"Acámbaro",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "89.93" ,    AbsorcionMS: "83.44",       AbsorcionSuperior:  "17.03056769"                   },
            {id:"11003", COUNTYID:"003", COUNTY:"San Miguel de Allende",                             STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.14" ,    AbsorcionMS: "74.32",       AbsorcionSuperior:  "44.7761194"                    },
            {id:"11005", COUNTYID:"005", COUNTY:"Apaseo el Grande",                                  STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "86.71" ,    AbsorcionMS: "99.10",       AbsorcionSuperior:  "2.707006369"                   },
            {id:"11004", COUNTYID:"004", COUNTY:"Apaseo el Alto",                                    STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.91" ,    AbsorcionMS: "62.66",       AbsorcionSuperior:  "13.58024691"                   },
            {id:"11006", COUNTYID:"006", COUNTY:"Atarjea",                                           STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "102.59",    AbsorcionMS: "89.09",       AbsorcionSuperior:  "0"                             },
            {id:"11007", COUNTYID:"007", COUNTY:"Celaya",                                            STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "98.84" ,    AbsorcionMS: "98.94",       AbsorcionSuperior:  "75.95786903"                   },
            {id:"11008", COUNTYID:"008", COUNTY:"Manuel Doblado",                                    STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "85.84" ,    AbsorcionMS: "55.08",       AbsorcionSuperior:  "22.05128205"                   },
            {id:"11009", COUNTYID:"009", COUNTY:"Comonfort",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.65" ,    AbsorcionMS: "69.53",       AbsorcionSuperior:  "0.379266751"                   },
            {id:"11010", COUNTYID:"010", COUNTY:"Coroneo",                                           STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "97.02" ,    AbsorcionMS: "87.39",       AbsorcionSuperior:  "0"                             },
            {id:"11011", COUNTYID:"011", COUNTY:"Cortazar",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.75" ,    AbsorcionMS: "98.13",       AbsorcionSuperior:  "129.9137931"                   },
            {id:"11012", COUNTYID:"012", COUNTY:"Cuerámaro",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "82.19" ,    AbsorcionMS: "66.19",       AbsorcionSuperior:  "19.54545455"                   },
            {id:"11013", COUNTYID:"013", COUNTY:"Doctor Mora",                                       STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "106.39",    AbsorcionMS: "71.35",       AbsorcionSuperior:  "7.250755287"                   },
            {id:"11014", COUNTYID:"014", COUNTY:"Dolores Hidalgo Cuna de la Independencia Nacional", STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "87.19" ,    AbsorcionMS: "75.11",       AbsorcionSuperior:  "66.87306502"                   },
            {id:"11015", COUNTYID:"015", COUNTY:"Guanajuato",                                        STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "96.94" ,    AbsorcionMS: "89.79",       AbsorcionSuperior:  "151.895355"                    },
            {id:"11016", COUNTYID:"016", COUNTY:"Huanímaro",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "86.52" ,    AbsorcionMS: "109.69",      AbsorcionSuperior:  "0"                             },
            {id:"11017", COUNTYID:"017", COUNTY:"Irapuato",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "91.20" ,    AbsorcionMS: "89.16",       AbsorcionSuperior:  "55.92677346"                   },
            {id:"11018", COUNTYID:"018", COUNTY:"Jaral del Progreso",                                STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.46" ,    AbsorcionMS: "75.93",       AbsorcionSuperior:  "0"                             },
            {id:"11019", COUNTYID:"019", COUNTY:"Jerácuaro",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "84.85" ,    AbsorcionMS: "58.91",       AbsorcionSuperior:  "0"                             },
            {id:"11020", COUNTYID:"020", COUNTY:"León",                                              STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.20" ,    AbsorcionMS: "91.16",       AbsorcionSuperior:  "89.02400405"                   },
            {id:"11021", COUNTYID:"021", COUNTY:"Moroleón",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "90.78" ,    AbsorcionMS: "86.60",       AbsorcionSuperior:  "65.14522822"                   },
            {id:"11022", COUNTYID:"022", COUNTY:"Ocampo",                                            STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "98.84" ,    AbsorcionMS: "63.39",       AbsorcionSuperior:  "0"                             },
            {id:"11023", COUNTYID:"023", COUNTY:"Pénjamo",                                           STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "87.09" ,    AbsorcionMS: "70.80",       AbsorcionSuperior:  "36.56597774"                   },
            {id:"11024", COUNTYID:"024", COUNTY:"Pueblo Nuevo",                                      STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "109.83",    AbsorcionMS: "114.77",      AbsorcionSuperior:  "0"                             },
            {id:"11025", COUNTYID:"025", COUNTY:"Purí­sima del Rincón",                               STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "83.36" ,    AbsorcionMS: "636.30",         AbsorcionSuperior:  "20.01920307"                },
            {id:"11026", COUNTYID:"026", COUNTY:"Romita",                                            STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.40" ,    AbsorcionMS: "63.09",       AbsorcionSuperior:  "0"                             },
            {id:"11027", COUNTYID:"027", COUNTY:"Salamanca",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.63" ,    AbsorcionMS: "90.38",       AbsorcionSuperior:  "49.56247812"                   },
            {id:"11028", COUNTYID:"028", COUNTY:"Salvatierra",                                       STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "91.90" ,    AbsorcionMS: "98.43",       AbsorcionSuperior:  "64.59627329"                   },
            {id:"11029", COUNTYID:"029", COUNTY:"San Diego de la Unión",                             STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.86" ,    AbsorcionMS: "73.76",       AbsorcionSuperior:  "0"                             },
            {id:"11030", COUNTYID:"030", COUNTY:"San Felipe",                                        STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "89.12" ,    AbsorcionMS: "69.91",       AbsorcionSuperior:  "10.48387097"                   },
            {id:"11031", COUNTYID:"031", COUNTY:"San Francisco del Rincón",                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "75.70" ,    AbsorcionMS: "90.17",       AbsorcionSuperior:  "33.49282297"                   },
            {id:"11032", COUNTYID:"032", COUNTY:"San José Iturbide",                                 STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "98.11" ,    AbsorcionMS: "82.20",       AbsorcionSuperior:  "15.43086172"                   },
            {id:"11033", COUNTYID:"033", COUNTY:"San Luis de la Paz",                                STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "90.42" ,    AbsorcionMS: "88.39",       AbsorcionSuperior:  "13.46282652"                   },
            {id:"11034", COUNTYID:"034", COUNTY:"Santa Catarina",                                    STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "104.39",    AbsorcionMS: "66.94",       AbsorcionSuperior:  "0"                             },
            {id:"11035", COUNTYID:"035", COUNTY:"Santa Cruz de Juventino Rosas",                     STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.00" ,    AbsorcionMS: "72.37",       AbsorcionSuperior:  "52.91828794"                   },
            {id:"11036", COUNTYID:"036", COUNTY:"Santiago Maravatí­o",                                STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "104.17",    AbsorcionMS: "20.83",      AbsorcionSuperior:  "0"                              },
            {id:"11037", COUNTYID:"037", COUNTY:"Silao de la Victoria",                              STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "93.24" ,    AbsorcionMS: "86.42",       AbsorcionSuperior:  "51.85995624"                   },
            {id:"11038", COUNTYID:"038", COUNTY:"Tarandacuao",                                       STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "99.16" ,    AbsorcionMS: "88.32",       AbsorcionSuperior:  "0"                             },
            {id:"11039", COUNTYID:"039", COUNTY:"Tarimoro",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.53" ,    AbsorcionMS: "72.53",       AbsorcionSuperior:  "32.54716981"                   },
            {id:"11040", COUNTYID:"040", COUNTY:"Tierra Blanca",                                     STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "101.31",    AbsorcionMS: "94.43",       AbsorcionSuperior:  "0"                             },
            {id:"11041", COUNTYID:"041", COUNTY:"Uriangato",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "92.74" ,    AbsorcionMS: "79.20",       AbsorcionSuperior:  "72.54901961"                   },
            {id:"11042", COUNTYID:"042", COUNTY:"Valle de Santiago",                                 STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "86.77" ,    AbsorcionMS: "70.99",       AbsorcionSuperior:  "54.43645084"                   },
            {id:"11043", COUNTYID:"043", COUNTY:"Victoria",                                          STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "95.23" ,    AbsorcionMS: "68.30",       AbsorcionSuperior:  "23.60515021"                   },
            {id:"11044", COUNTYID:"044", COUNTY:"Villagrán",                                         STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "101.75",    AbsorcionMS: "74.73",       AbsorcionSuperior:  "0"                             },
            {id:"11045", COUNTYID:"045", COUNTY:"Xichú",                                             STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "89.80" ,    AbsorcionMS: "54.08",       AbsorcionSuperior:  "0"                             },
            {id:"11046", COUNTYID:"046", COUNTY:"Yuriria",                                           STATEID:"11", STATE:"Guanajuato", CNTRY:"Mexico",      AbsorcionSecundaria: "86.23" ,    AbsorcionMS: "70.05",       AbsorcionSuperior:  "2.878787879"                   }                 
    ]

    ColorPalette = {
        Blue: [{
            Range1: "#bbdefb",
            Range2: "#64b5f6",
            Range3: "#1976d2",
            Range4: "#0d47a1"
        }],
        Purple: [{
            Range1: "#e1bee7",
            Range2: "#ce93d8",
            Range3: "#7b1fa2",
            Range4: "#4a148c",
            Range5: "#4a148c"
        }],
        Green: [{
            Range1: "#c8e6c9",
            Range2: "#a5d6a7",
            Range3: "#66bb6a",
            Range4: "#43a047",
            Range5: "#2e7d32",
            Range6: "#1b5e20"
        }],
        Brown: [{
            Range1: "#d7ccc8",
            Range2: "#a1887f",
            Range3: "#6d4c41",
            Range4: "#4e342e",
        }],
        Blue_Grey: [{
            Range1: "#cfd8dc",
            Range2: "#90a4ae",
            Range3: "#607d8b",
            Range4: "#37474f",
            Range5: "#263238",
        }],
        Teal: [{
            Range1: "#b2dfdb",
            Range2: "#4db6ac",
            Range3: "#00897b",
            Range4: "#004d40",
        }],
        Cyan: [{
            Range1: "#80deea",
            Range2: "#00bcd4",
            Range3: "#0097a7",
            Range4: "#006064",
        }],
        Indigo: [{
            Range1: "#c5cae9",
            Range2: "#7986cb",
            Range3: "#5c6bc0",
            Range4: "#283593",
            Range5: "#1a237e",
        }]
    }

    function Object2Vector(ObjectPropertie){
        var vector = [];

        if ( ObjectPropertie == "AbandonoEscolarMediaSuperior" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].AbandonoEscolarMediaSuperior);
        else if ( ObjectPropertie == "EficienciaTerminalMediaSuperior" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].EficienciaTerminalMediaSuperior);
        else if ( ObjectPropertie == "ViviendasConRadio" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasConRadio);
        else if ( ObjectPropertie == "ViviendasConTelevisor" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasConTelevisor );
        else if ( ObjectPropertie == "ViviendasSinRadioNiTelevisor" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasSinRadioNiTelevisor );
        else if ( ObjectPropertie == "ViviendasConComputadoraLaptopTablet" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasConComputadoraLaptopTablet );
        else if ( ObjectPropertie == "ViviendasConTelefonoCelular" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasConTelefonoCelular );
        else if ( ObjectPropertie == "ViviendasSinTelefono" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasSinTelefono );
        else if ( ObjectPropertie == "ViviendasConInternet" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasConInternet );
        else if ( ObjectPropertie == "ViviendasSinComputadoraNiInternet" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].ViviendasSinInternetComputadora );
        else if ( ObjectPropertie == "GradoPromedioEscolaridad" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].GradoPromedioEscolaridad );
        else if ( ObjectPropertie == "EducacionPosbasica" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].EducacionPosbasica );
        else if( ObjectPropertie == "EducacionBasicaIncompleta" )
            for(var i=0; i<DataGuanajuatoStates.length; i++)
                vector[i] = parseFloat(DataGuanajuatoStates[i].EducacionBasicaIncompleta );
        
        return vector;
    }

    function AverageOfSet(Vector){
        var sum = 0;

        for(var i=0; i<Vector.length; i++)
            sum += Vector[i];

        return sum/Vector.length;
    }

    function MaxOfSet(Vector){
        var max = 0, value = 0;

        for(var i=0; i<Vector.length; i++){
            value = Vector[i];

            if( value >= max ) 
                max = value;
        }
        
        return max;
    }

    function MinOfSet(Vector){
        var min = MaxOfSet(Vector), value = 0;

        for(var i=0; i<Vector.length; i++){
            value = Vector[i];

            if( value <= min )
                min = value;
        }
        
        return min;
    }

    function Mapa_AbsorcionSecundaria(){
//      Creamos la instancia del mapa
        var chart = am4core.create("mapa_guanajuato", am4maps.MapChart);
        chart.geodata = am4geodata_region_mexico_guaHigh;
        chart.projection = new am4maps.projections.Miller();

//      Definimos los diferentes umbrales para las regiones de interés
        var Data_vector = Object2Vector("AbsorcionSecundaria");
        var diff_max_min = ( MaxOfSet(Data_vector) - MinOfSet(Data_vector) )/5;
        var threshold_1 = MinOfSet(Data_vector).toFixed(2);

//      Asignamos un color distinto para cada una de las regiones
        var s1_range = [], s2_range = [], s3_range = [], s4_range = [];

        console.log( 'Min => ', MinOfSet(Data_vector)  );
        console.log( 'Max => ', MaxOfSet(Data_vector)  );

        for(var i=0; i<DataGuanajuatoStates.length; i++){
            var Map_data = DataGuanajuatoStates[i].AbsorcionSecundaria;

            if ( Map_data >= 75.70 && Map_data <= 84.24 )
                s1_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 84.25 && Map_data <= 92.77 )
                s2_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 92.78 && Map_data < 101.30 )
                s3_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 101.31 && Map_data <= 109.83 )
                s4_range.push( DataGuanajuatoStates[i].id );
        }

        /* 1er color */
        var s1 = chart.series.push(new am4maps.MapPolygonSeries());
        s1.name = "75.7% - 84.24%";
        s1.useGeodata = true;
        s1.include = s1_range;
        s1.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range1 );
        s1.fill = am4core.color( ColorPalette.Green[0].Range1 );

        var pts1 = s1.mapPolygons.template;
        pts1.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 2do color */
        var s2 = chart.series.push(new am4maps.MapPolygonSeries());
        s2.name = "84.25% - 92.77%";
        s2.useGeodata = true;
        s2.include = s2_range;
        s2.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range2 );
        s2.fill = am4core.color( ColorPalette.Green[0].Range2 );

        var pts2 = s2.mapPolygons.template;
        pts2.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 3er color */
        var s3 = chart.series.push(new am4maps.MapPolygonSeries());
        s3.name = "92.78% - 101.30%";
        s3.useGeodata = true;
        s3.include = s3_range;
        s3.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range3 );
        s3.fill = am4core.color( ColorPalette.Green[0].Range3 );

        var pts3 = s3.mapPolygons.template;
        pts3.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 4to color */
        var s4 = chart.series.push(new am4maps.MapPolygonSeries());
        s4.name = "101.31% - 109.83%";
        s4.useGeodata = true;
        s4.include = s4_range;
        s4.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range4 );
        s4.fill = am4core.color( ColorPalette.Green[0].Range4 );

        var pts2 = s2.mapPolygons.template;
        pts2.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        chart.legend = new am4maps.Legend();
        chart.legend.position = "right";
        chart.legend.align = "right";

        // FORMATO PARA LA VISUALIZACIÓN DEL TEXTO EN EL MAPA

        $('.title-map').text('índice de absorción para el nivel secundaria del ciclo 2021-2022');
        $('.notas-datos').css('color', 'white');

        // Asignación de colores para los nombres de los municipios
        $('.nombre-municipios').children().addClass('black-text');

    }

    function Mapa_AbsorcionMS(){
//      Creamos la instancia del mapa
        var chart = am4core.create("mapa_guanajuato", am4maps.MapChart);
        chart.geodata = am4geodata_region_mexico_guaHigh;
        chart.projection = new am4maps.projections.Miller();

//      Definimos los diferentes umbrales para las regiones de interés
        var Data_vector = Object2Vector("AbsorcionMS");
        var diff_max_min = ( MaxOfSet(Data_vector) - MinOfSet(Data_vector) )/5;
        var threshold_1 = MinOfSet(Data_vector).toFixed(2);

//      Asignamos un color distinto para cada una de las regiones
        var s1_range = [], s2_range = [], s3_range = [], s4_range = [];

        console.log( 'Min => ', MinOfSet(Data_vector)  );
        console.log( 'Max => ', MaxOfSet(Data_vector)  );

        for(var i=0; i<DataGuanajuatoStates.length; i++){
            var Map_data = DataGuanajuatoStates[i].AbsorcionMS;

            if ( Map_data >= 20.83 && Map_data <= 60.40 )
                s1_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 60.41 && Map_data <= 79.97 )
                s2_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 79.98 && Map_data < 129.69 )
                s3_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= 129.70 && Map_data <= 636.30 )
                s4_range.push( DataGuanajuatoStates[i].id );
        }

        /* 1er color */
        var s1 = chart.series.push(new am4maps.MapPolygonSeries());
        s1.name = "20.83% - 60.40%";
        s1.useGeodata = true;
        s1.include = s1_range;
        s1.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range1 );
        s1.fill = am4core.color( ColorPalette.Green[0].Range1 );

        var pts1 = s1.mapPolygons.template;
        pts1.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 2do color */
        var s2 = chart.series.push(new am4maps.MapPolygonSeries());
        s2.name = "60.41% - 79.97%";
        s2.useGeodata = true;
        s2.include = s2_range;
        s2.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range2 );
        s2.fill = am4core.color( ColorPalette.Green[0].Range2 );

        var pts2 = s2.mapPolygons.template;
        pts2.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 3er color */
        var s3 = chart.series.push(new am4maps.MapPolygonSeries());
        s3.name = "79.98% 129.69%";
        s3.useGeodata = true;
        s3.include = s3_range;
        s3.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range3 );
        s3.fill = am4core.color( ColorPalette.Green[0].Range3 );

        var pts3 = s3.mapPolygons.template;
        pts3.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        /* 4to color */
        var s4 = chart.series.push(new am4maps.MapPolygonSeries());
        s4.name = "129.70% - 636.30%";
        s4.useGeodata = true;
        s4.include = s4_range;
        s4.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range4 );
        s4.fill = am4core.color( ColorPalette.Green[0].Range4 );

        var pts2 = s2.mapPolygons.template;
        pts2.stroke = am4core.color("rgba(255, 255, 255, 0.3)");

        chart.legend = new am4maps.Legend();
        chart.legend.position = "right";
        chart.legend.align = "right";

        // FORMATO PARA LA VISUALIZACIÓN DEL TEXTO EN EL MAPA

        $('.title-map').text('índice de absorción para el nivel secundaria del ciclo 2021-2022');
        $('.notas-datos').css('color', 'white');

        // Asignación de colores para los nombres de los municipios
        $('.nombre-municipios').children().addClass('black-text');

    
    }

    function Mapa_AbsorcionSuperior(){
//      Creamos la instancia del mapa
        var chart = am4core.create("mapa_guanajuato", am4maps.MapChart);
        chart.geodata = am4geodata_region_mexico_guaHigh;
        chart.projection = new am4maps.projections.Miller();

//      Definimos los diferentes umbrales para las regiones de interés
        var Data_vector = Object2Vector("AbsorcionSuperior");
        var diff_max_min = ( MaxOfSet(Data_vector) - MinOfSet(Data_vector) )/5;
        var threshold_1 = MinOfSet(Data_vector).toFixed(2);

//      Asignamos un color distinto para cada una de las regiones
        var s1_range = [], s2_range = [], s3_range = [], s4_range = [], s5_range = [];

        console.log( 'Min => ', MinOfSet(Data_vector)  );
        console.log( 'Max => ', MaxOfSet(Data_vector)  );

        var th1 = 0.37, th12 = 38.26;
        var th2 = 38.27, th22 = 76.14;
        var th3 = 76.15, th32 = 114.02;
        var th4 = 114.03, th42 = 151.90;

        for(var i=0; i<DataGuanajuatoStates.length; i++){
            var Map_data = DataGuanajuatoStates[i].AbsorcionSuperior;

            if ( Map_data >= th1 && Map_data <= th12 )
                s1_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= th2 && Map_data <= th22 )
                s2_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= th3 && Map_data <= th32 )
                s3_range.push( DataGuanajuatoStates[i].id );
            else if ( Map_data >= th4 && Map_data <= th42 )
                s4_range.push( DataGuanajuatoStates[i].id );
            else if( Map_data == 0 )
                s5_range.push( DataGuanajuatoStates[i].id )
        }

        /* 1er color */
        var s1 = chart.series.push(new am4maps.MapPolygonSeries());
        s1.name = th1 + "% -" + th12 + "%";
        s1.useGeodata = true;
        s1.include = s1_range;
        s1.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range1 );
        s1.fill = am4core.color( ColorPalette.Green[0].Range1 );

        var pts1 = s1.mapPolygons.template;
        pts1.stroke = am4core.color("rgba(100, 100, 100, 0.3)");

        /* 2do color */
        var s2 = chart.series.push(new am4maps.MapPolygonSeries());
        s2.name = th2 + "% -" + th22 + "%";
        s2.useGeodata = true;
        s2.include = s2_range;
        s2.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range2 );
        s2.fill = am4core.color( ColorPalette.Green[0].Range2 );

        var pts2 = s2.mapPolygons.template;
        pts2.stroke = am4core.color("rgba(100, 100, 100, 0.3)");

        /* 3er color */
        var s3 = chart.series.push(new am4maps.MapPolygonSeries());
        s3.name = th3 + "% -" + th32 + "%";
        s3.useGeodata = true;
        s3.include = s3_range;
        s3.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range3 );
        s3.fill = am4core.color( ColorPalette.Green[0].Range3 );

        var pts3 = s3.mapPolygons.template;
        pts3.stroke = am4core.color("rgba(100, 100, 100, 0.3)");

        /* 4to color */
        var s4 = chart.series.push(new am4maps.MapPolygonSeries());
        s4.name = th4 + "% -" + th42 + "%";
        s4.useGeodata = true;
        s4.include = s4_range;
        s4.mapPolygons.template.fill = am4core.color( ColorPalette.Green[0].Range4 );
        s4.fill = am4core.color( ColorPalette.Green[0].Range4 );

        var pts4 = s4.mapPolygons.template;
        pts4.stroke = am4core.color("rgba(100, 100, 100, 0.3)");

        chart.legend = new am4maps.Legend();
        chart.legend.position = "right";
        chart.legend.align = "right";

        /* 5to color */
        var s5 = chart.series.push(new am4maps.MapPolygonSeries());
        s5.name = "Sin información";
        s5.useGeodata = true;
        s5.include = s5_range;
        s5.mapPolygons.template.fill = am4core.color( "#cccccc" );
        s5.fill = am4core.color( "#cccccc" );

        var pts5 = s5.mapPolygons.template;
        pts5.stroke = am4core.color("rgba(100, 100, 100, 0.3)");

        chart.legend = new am4maps.Legend();
        chart.legend.position = "right";
        chart.legend.align = "right";

        // FORMATO PARA LA VISUALIZACIÓN DEL TEXTO EN EL MAPA

        $('.title-map').text('índice de absorción para el nivel secundaria del ciclo 2021-2022');
        $('.notas-datos').css('color', 'white');

        // Asignación de colores para los nombres de los municipios
        $('.nombre-municipios').children().addClass('black-text');

    }
    
    function EmptyMap(){
        var chart = am4core.create("mapa_guanajuato", am4maps.MapChart);
        chart.geodata = am4geodata_region_mexico_guaHigh;
        chart.projection = new am4maps.projections.Miller();

        var empty_range = [];

        for(var i=0; i<DataGuanajuatoStates.length; i++){
            var coberturaSuperiorData = DataGuanajuatoStates[i].CoberturaSuperior;
            empty_range.push( DataGuanajuatoStates[i].id );
        }

        /* Sin color */
        var empty = chart.series.push(new am4maps.MapPolygonSeries());
        empty.useGeodata = true;
        empty.include = empty_range;
        empty.mapPolygons.template.fill = am4core.color( 'rgb(230, 230, 230)' );
        empty.fill = am4core.color( 'rgb(230, 230, 230)' );

        var empty_1 = empty.mapPolygons.template;
        empty_1.stroke = am4core.color("rgba(108, 108, 108, 1)");

        chart.legend = new am4maps.Legend();
        chart.legend.position = "right";
        chart.legend.align = "right";


        $('.nombre-municipios').removeClass('white-text').addClass('black-text');
    }

    $(function(){
        $('.collection .collection-item')[2].click();
    });
    
    $('.collection .collection-item').on('click', function(){
        $(this).siblings().removeClass('collection-item-active');
        $(this).addClass('collection-item-active');
        $(this).children().children().children().text('_chevron_right');
        $(this).siblings().children().children().children().text(' ');

        NumMap = $(this).text().split('_')[0].split('.');;

        console.log( NumMap );
        $('#mapa_guanajuato').empty();

        switch( NumMap[0] ){
            case "1":
                Mapa_AbsorcionSecundaria();
            break;
            case "2":
                Mapa_AbsorcionMS();
            break;
            case "3":
                Mapa_AbsorcionSuperior();
            break;
        }



        // 13. Población con educación básica incompleta
    });

